# TCP Chat


## Запуск

Для запуска сервера нужно вызвать метод `main` у класса `Server` для запуска на блокирующих сокетах, 
либо метод `main` у класса `ServerNB` для запуска сервера на неблокирующих сокетах.

Для запуска клиента нужно вызвать метод `main` у класса `Client`. Клиент корректно работает как для блокирующих,
так и для неблокирующих сокетов.


## Команды

Сервер имеет 3 команды:

`/help` - список возможных команд и их описание
`/users` - список подключённых пользователей в данный момент
`/exit` - прекращение работы сервера

Клиент имеет 2 команды:

`-file` - флаг отправки файла. После написания флага указывается абсолютный путь до файла
`/exit` - выход клиента из чата

## Описание протокола

Максимальный размер - 4 Гб

Максимальный размер заголовка пакета - 4 байта.

Пакет протокола имеет следующие поля:

`time` - точное время получения пакета сервером. Поле может быть пустым.

`name` - имя отправителя сообщения. Поле может быть пустым.

`text` - текст сообщения. Поле не может быть пустым.

`fileName` - название файла. Поле может быть пустым.

`fileSize` - целочисленный (Integer) размер файла. Поле может быть пустым.

Все используемые строковые поля имеют кодировку UTF-8.

## Демонстрация

### Работа Сервера
![image](https://user-images.githubusercontent.com/43438823/150809966-59b2ed2d-baa0-4c73-be5c-87f804e48bce.png)

### Пользователь 1
![image](https://user-images.githubusercontent.com/43438823/150810015-179a69a8-e7d7-4d28-8135-ba21b24e7b47.png)

### Пользователь 2
![image](https://user-images.githubusercontent.com/43438823/150810068-f93d6902-718f-4288-932e-f5a54f032490.png)

### Пользователь 3
![image](https://user-images.githubusercontent.com/43438823/150810099-c8bdddd4-69ca-44cb-917a-4b97f119283d.png)

### Пользователь 4
![image](https://user-images.githubusercontent.com/43438823/150810115-33c50864-b2ef-400a-bdf4-c3baf1e33235.png)
